:root {
--color-bg: #ffffff;
--color-surface: #f8f9fa;
--color-primary: #0b0b0b;
--color-secondary: #3a3a3a;
--color-muted: #6c757d;
--color-border: #e5e7eb;
--color-border-hover: #ced4da;

/* --- Colors --- */
--color-green: #28a745;
--color-green-dark: #218838;
--color-red: #dc3545;
--color-red-dark: #c82333;
--shadow-button-green: 0 4px 10px rgba(40, 167, 69, 0.3);
--shadow-button-red: 0 4px 10px rgba(220, 53, 69, 0.3);

/* --- Base --- */
--color-focus-ring: rgba(0, 0, 0, 0.1);
--radius-card: 1rem;
--radius-input: 0.5rem; /* 8px */
--shadow-card: 0 4px 12px rgba(0,0,0,0.05);
--shadow-hover: 0 8px 20px rgba(0,0,0,0.08);
--shadow-button: 0 4px 10px rgba(0, 0, 0, 0.1);
--transition: all 0.2s ease-in-out;
}

/* ==================================================================
 * Global Container
 * ================================================================== */
.container {
display: flex;
justify-content: center;
align-items: center; /* Vertical centering */
min-height: 100vh;
padding: 1rem; /* Smaller padding for mobile */
background: var(--color-surface);
font-family: "Sarabun", sans-serif;
box-sizing: border-box;
}

/* ==================================================================
 * Page Layout
 * ================================================================== */
.page {
width: 100%;
background: var(--color-bg);
border-radius: var(--radius-card);
padding: 1.5rem; /* Smaller padding for mobile */
box-shadow: var(--shadow-card);
border: 1px solid var(--color-border);
transition: var(--transition);
}
.pageCreate { max-width: 500px; }
.pageSetup { max-width: 700px; }
.page:hover {
box-shadow: var(--shadow-hover);
transform: translateY(-2px);
}

/* ==================================================================
 * Page Header
 * ================================================================== */
.pageHeader {
text-align: center;
margin-bottom: 2rem; /* Adjusted margin */
}
.pageTitle {
font-size: 1.75rem; /* Adjusted for mobile */
font-weight: 700;
color: var(--color-primary);
margin: 0;
display: flex;
flex-wrap: wrap;
align-items: center;
justify-content: center;
gap: 0.5rem 1rem;
line-height: 1.3;
}
.pageSubtitle {
font-size: 1rem; /* Adjusted for mobile */
font-weight: 400;
color: var(--color-muted);
margin-top: 0.5rem;
}
.orgNameHighlight {
color: var(--color-primary);
font-weight: 700;
}

.editNameButton {
background: none;
border: 1px solid var(--color-border);
cursor: pointer;
color: var(--color-secondary);
font-size: 0.9rem; /* Adjusted */
font-weight: 500;
font-family: "Sarabun", sans-serif;
padding: 0.4rem 0.8rem;
border-radius: var(--radius-input);
transition: var(--transition);
white-space: nowrap;
box-shadow: var(--shadow-card);
margin-top: 0.5rem; /* Add space when wrapped */
}
.editNameButton:hover {
background-color: var(--color-surface);
color: var(--color-primary);
border-color: var(--color-primary);
box-shadow: var(--shadow-hover);
transform: translateY(-1px);
}

/* ==================================================================
 * Forms
 * ================================================================== */
.form {
display: flex;
flex-direction: column;
gap: 1.5rem;
}
.formGroup {
display: flex;
flex-direction: column;
gap: 0.5rem;
}
.label {
font-weight: 600;
font-size: 0.95rem;
color: var(--color-secondary);
}
.label.required::after {
content: " *";
color: var(--color-red);
margin-left: 0.25rem;
}
.input, .select {
width: 100%;
padding: 0.75rem 1rem;
font-size: 1rem;
border-radius: var(--radius-input);
border: 1px solid var(--color-border);
background: var(--color-surface);
color: var(--color-primary);
transition: var(--transition);
box-sizing: border-box;
}
.input:hover, .select:hover {
border-color: var(--color-border-hover);
}
.input:focus, .select:focus {
outline: none;
background: var(--color-bg);
border-color: var(--color-primary);
box-shadow: 0 0 0 3px var(--color-focus-ring);
}
.input::placeholder {
color: var(--color-muted);
font-style: italic;
opacity: 0.8;
}
.helpText {
font-size: 0.9rem;
color: var(--color-muted);
text-align: center;
margin-top: -0.5rem;
}
.helpTextSmall {
font-size: 0.85rem;
color: var(--color-muted);
margin-top: 0.5rem;
}

/* ==================================================================
 * Buttons
 * (Mobile-First Styles: Styles for phones)
 * (สไตล์สำหรับมือถือ: ปุ่มจะเรียงแนวตั้ง)
 * ================================================================== */
.buttonGroup {
margin-top: 1rem;
display: flex;
flex-direction: column; /* Mobile-first: Stack buttons (เรียงแนวตั้งสำหรับมือถือ) */
justify-content: center;
gap: 0.75rem; /* Tighter gap for stacked buttons */
}
.button {
width: 100%;
padding: 0.75rem 1.5rem;
border-radius: var(--radius-input);
font-weight: 600;
font-size: 1rem;
cursor: pointer;
transition: var(--transition);
border: 1px solid transparent;
text-align: center;
text-decoration: none;
display: inline-flex;
justify-content: center;
align-items: center;
gap: 0.5rem;
}
/* This targets buttons *only* inside .buttonGroup */
.buttonGroup > .button {
flex-grow: 1;
flex-basis: 0;
}
.button:disabled {
opacity: 0.5;
cursor: not-allowed;
transform: none;
box-shadow: none;
}

/* Accessibility focus style */
.button:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px var(--color-bg), 0 0 0 5px var(--color-primary);
}


/* (Green Button) */
.btnPrimary {
background-color: var(--color-green);
color: white;
border-color: var(--color-green);
box-shadow: var(--shadow-button-green);
}
.btnPrimary:hover:not(:disabled) {
background-color: var(--color-green-dark);
border-color: var(--color-green-dark);
transform: translateY(-2px);
}

/* (Red Button) */
.btnPrimaryBack {
background-color: var(--color-red);
color: white;
border-color: var(--color-red);
box-shadow: var(--shadow-button-red);
}
.btnPrimaryBack:hover:not(:disabled) {
background-color: var(--color-red-dark);
border-color: var(--color-red-dark);
transform: translateY(-2px);
}

/* (Save Button - Accordion) - Set to Green */
.btnSuccess {
background-color: var(--color-green);
color: white;
border-color: var(--color-green);
box-shadow: var(--shadow-button-green);
}
.btnSuccess:hover:not(:disabled) {
background-color: var(--color-green-dark);
border-color: var(--color-green-dark);
transform: translateY(-2px);
}

/* (Choose File Button) - Set to White */
.btnSecondary {
background-color: var(--color-bg);
color: var(--color-primary);
border-color: var(--color-border-hover);
}
.btnSecondary:hover:not(:disabled) {
background-color: var(--color-surface);
border-color: var(--color-primary);
transform: translateY(-2px);
}

/* ==================================================================
 * Setup Page: Accordion (Mobile-First Styles)
 * (สไตล์สำหรับมือถือ)
 * ================================================================== */
.setupContainer {
margin-top: 2rem; /* Adjusted margin */
}
.setupTitle {
font-size: 1.25rem; /* Adjusted for mobile */
font-weight: 600;
color: var(--color-secondary);
margin-bottom: 1.5rem;
text-align: center;
}
.accordion {
display: flex;
flex-direction: column;
gap: 1rem;
}
.accordionItem {
border: 1px solid var(--color-border);
border-radius: var(--radius-card); /* 1rem */
overflow: hidden;
background: var(--color-bg);
transition: var(--transition);
box-shadow: none;
}
.accordionItem:hover {
  border-color: var(--color-border-hover);
}

.accordionHeader {
display: flex;
align-items: center;
gap: 1rem;
width: 100%;
padding: 1.25rem; /* Adjusted padding */
background: var(--color-bg);
border: none;
cursor: pointer;
text-align: left;
transition: var(--transition);
}
.accordionHeader:hover {
  background-color: var(--color-surface);
}

.accordionIcon {
flex-shrink: 0;
width: 2.5rem; /* Adjusted size */
height: 2.5rem; /* Adjusted size */
border-radius: var(--radius-input); /* 8px */
display: flex;
align-items: center;
justify-content: center;
font-size: 1.25rem; /* Adjusted size */
transition: var(--transition);
}

/* Icon Background Colors */
.iconBgCode {
  background-color: #e6f7ff;
  color: #0056b3;
}
.iconBgLogo {
  background-color: #e6fff0;
  color: #006421;
}
.iconBgLocation {
  background-color: #fff0f0;
  color: #c82333;
}
.iconBgType {
  background-color: #fff8e6;
  color: #b38000;
}


.accordionTitleBox {
flex-grow: 1;
}
.accordionTitle {
font-size: 1.05rem; /* Adjusted size */
font-weight: 600;
color: var(--color-primary);
margin: 0;
}
.accordionSubtitle {
font-size: 0.9rem;
color: var(--color-muted);
margin: 0;
margin-top: 0.2rem;
}
.accordionArrow {
width: 1.25rem;
height: 1.25rem;
color: var(--color-muted);
transition: transform 0.3s ease-in-out;
flex-shrink: 0;
}
.rotate180 {
transform: rotate(180deg);
}

/* === Accordion Content === */
.accordionContentWrapper {
display: grid;
grid-template-rows: 0fr;
transition: grid-template-rows 0.4s ease-in-out;
}
.accordionContentWrapper.open {
grid-template-rows: 1fr;
}
.accordionContent {
overflow: hidden;
padding: 0 1.25rem; /* Adjusted padding */
background: var(--color-bg);
}

/* * Shared class for all accordion inner content
 * (Applied to forms, but not the code box)
 */
.accordionInnerContent {
  padding-top: 1.5rem;
  padding-bottom: 1.5rem;
  border-top: 1px solid var(--color-border);
}


.contentTitle {
font-size: 1.25rem; /* Adjusted size */
font-weight: 600;
color: var(--color-primary);
margin-bottom: 1.5rem;
}
.contentForm {
display: flex;
flex-direction: column;
gap: 1.25rem;
}

/* === Logo Upload (Mobile Style) === */
.logoUploadBox {
display: grid;
grid-template-columns: 1fr; /* Mobile-first: Stack (เรียงแนวตั้ง) */
align-items: center;
gap: 1.5rem;
padding: 0;
border: none;
background: none;
justify-items: center; /* Center preview */
}

.logoPreview {
width: 150px;
height: 150px;
object-fit: contain;
border-radius: var(--radius-card); /* 1rem, square-ish */
border: 2px solid var(--color-border);
background-color: var(--color-surface);
}
.hiddenFileInput {
display: none;
}
.logoUploadActions {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  align-items: center; /* Mobile-first: Center buttons */
  width: 100%;
}
.logoUploadActions > .button {
  width: 100%; /* Mobile-first: Full width */
}
.btnSave {
margin-top: 0;
}


/* === Code Box (in Accordion) - REDESIGNED === */
.codeBoxContent {
  display: flex;
  flex-direction: column;
  gap: 0.75rem; /* Reduced gap */
  /* This component now handles its own top border and padding */
  padding-top: 1.5rem;
  padding-bottom: 1.5rem;
  border-top: 1px solid var(--color-border);
}

.codeBoxHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  /* NEW: Pill design for switch */
  background-color: var(--color-surface);
  border-radius: 9999px; /* Pill shape */
  padding: 0.5rem;
  min-height: 48px;
  box-sizing: border-box;
}

.codeBoxType {
  font-size: 0.9rem; /* Adjusted size */
  font-weight: 600;
  color: var(--color-primary);
  padding: 0 0.75rem; /* Add padding */
}

.codeBoxSwitch {
  font-size: 0.9rem;
  font-weight: 500;
  color: var(--color-primary);
  text-decoration: underline;
  cursor: pointer;
  background: none;
  border: none;
  font-family: "Sarabun", sans-serif;
  /* NEW: Style as pill button */
  background-color: var(--color-bg);
  padding: 0.35rem 0.75rem;
  border-radius: 9999px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.05);
  border: 1px solid var(--color-border);
  transition: var(--transition);
}
.codeBoxSwitch:hover {
  color: var(--color-secondary);
  border-color: var(--color-border-hover);
  background-color: #fdfdfd;
}

.codeBoxDisplayWrapper {
  /* NEW: Pill design for display */
  position: relative;
  display: flex;
  align-items: center;
  /* justify-content: space-between; <-- ลบบรรทัดนี้ออกครับ */
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: 9999px; /* Pill shape */
  padding: 0.5rem;
  min-height: 48px;
  box-sizing: border-box;
}

.codeBoxDisplay {
  font-family: "Menlo", "Consolas", monospace;
  font-size: 1rem; /* Adjusted size */
  font-weight: 700;
  text-align: left;
  letter-spacing: 0.05em;
  color: var(--color-primary);
  padding: 0 0.75rem; /* Add padding */
  /* NEW: Removed background/border */
  background: none;
  border: none;
  padding-right: 0;
  width: auto; /* Allow shrinking */
  flex-grow: 1; /* Take up available space */
  overflow-x: auto; /* Allow scrolling for long codes */
  white-space: nowrap;
  min-width: 0; /* <-- นี่คือส่วนที่เพิ่มเข้ามาครับ */
}

.codeCopyButton {
  /* NEW: Reset position, adjust style for pill */
  position: static;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 9999px; /* Pill shape */
  cursor: pointer;
  padding: 0.35rem 0.75rem;
  color: var(--color-secondary);
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  font-weight: 500;
  font-size: 0.9rem;
  transition: var(--transition);
  flex-shrink: 0; /* Don't shrink */
  box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}
.codeCopyButton:hover {
  background: var(--color-surface);
  border-color: var(--color-border-hover);
  background-color: #fdfdfd;
}
.codeCopyButton svg {
  width: 16px;
  height: 16px;
  stroke-width: 2;
}
.codeCopyButton.copied {
  color: var(--color-green);
  border-color: var(--color-green);
  background-color: #e6fff0;
}
.codeCopyButton.copied svg {
  stroke: var(--color-green);
}


/* === Form Grid (in Accordion) (Mobile Style) === */
.formGrid {
display: grid;
grid-template-columns: 1fr; /* Mobile-first: 1 column (เรียงแนวตั้ง) */
gap: 1.25rem;
}
.submitRow {
grid-column: 1 / -1;
display: flex;
justify-content: flex-end;
margin-top: 1rem;
}
.submitRow .button {
width: 100%; /* Full width on mobile */
flex-grow: 0;
flex-basis: auto;
}

/* === Geo Button & Error (Mobile Style) === */
.btnGeo {
background-color: var(--color-bg);
color: var(--color-primary);
border: 1px solid var(--color-border-hover);
flex-grow: 0;
flex-basis: auto;
}
.btnGeo:hover:not(:disabled) {
background-color: var(--color-surface);
border-color: var(--color-primary);
transform: translateY(-2px);
}

.errorMessage {
color: var(--color-red);
font-size: 0.9rem;
margin-top: 0.5rem;
text-align: center;
}
.geoButtonContainer {
grid-column: 1 / -1;
text-align: center;
display: flex;
flex-direction: column;
align-items: center;
}
.geoButtonContainer .button {
width: 100%; /* Full width on mobile */
min-width: 200px;
flex-grow: 0;
flex-basis: auto;
}

/* ==================================================================
* Media Queries (TABLET Styles)
* (These styles apply when screen width is 768px or wider)
* (นี่คือสไตล์สำหรับแท็บเล็ต จอที่กว้างกว่า 768px)
* ================================================================== */
@media (min-width: 768px) {
  .container {
    padding: 3rem 1rem; /* Restore padding */
  }
  .page {
    padding: 3rem;
  }
  .pageTitle {
    font-size: 2.25rem;
    gap: 0.75rem 1.5rem;
  }
  .pageSubtitle {
    font-size: 1.1rem;
  }
  .editNameButton {
    margin-top: 0; /* Reset margin */
  }

  /* --- Forms (Tablet) --- */
  .formGrid {
    grid-template-columns: repeat(2, 1fr); /* 2 คอลัมน์ */
    gap: 1.5rem;
  }
  .geoButtonContainer {
    grid-column: 1 / -1;
  }
  .geoButtonContainer .button {
    width: auto; /* Auto width on desktop */
  }

  /* --- Buttons (Tablet) --- */
  .buttonGroup {
    flex-direction: row; /* Side-by-side (เรียงแนวนอน) */
    justify-content: center;
    gap: 1rem;
  }
  .buttonGroup > .button {
    width: auto;
    min-width: 180px;
    flex-grow: 0;
    flex-basis: auto;
  }

  /* --- Accordion (Tablet) --- */
  .accordionHeader {
    padding: 1.25rem 1.5rem;
  }
  .accordionContent {
    padding: 0 1.5rem;
  }
  .accordionIcon {
    width: 2.75rem;
    height: 2.75rem;
    font-size: 1.5rem;
  }
  .accordionTitle {
    font-size: 1.1rem;
  }
  .contentTitle {
    font-size: 1.5rem;
  }
  .codeBoxType {
    font-size: 1rem;
  }
  .codeBoxDisplay {
    font-size: 1.15rem;
  }

  /* --- Logo Upload (Tablet) --- */
  .logoUploadBox {
    grid-template-columns: 150px 1fr; /* 2 columns (เรียงแนวนอน) */
    justify-items: start;
  }
  .logoUploadActions {
    align-items: flex-start; /* Align to start */
    width: auto;
  }
  .logoUploadActions > .button {
    width: auto; /* Auto width */
  }

  /* --- Submit Row (Tablet) --- */
  .submitRow .button {
    width: auto; /* Auto width */
  }
}


/* ==================================================================
* Media Queries (NOTEBOOK / DESKTOP Styles)
* (These styles apply when screen width is 1024px or wider)
* (นี่คือสไตล์สำหรับจอใหญ่ โน้ตบุ๊ก/เดสก์ท็อป จอที่กว้างกว่า 1024px)
* ================================================================== */
@media (min-width: 1024px) {
  .pageCreate {
    max-width: 600px; /* Widen create page */
  }
  .pageSetup {
    max-width: 900px; /* Widen setup page */
  }
}
